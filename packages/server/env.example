# Hyperscape Server Environment Configuration

# ============ Blockchain (Hybrid Mode) ============
# Required for on-chain integration
WORLD_ADDRESS=                    # MUD World contract address (set by start-localnet.ts)

# Smart Network Detection:
# - If running from Jeju monorepo: Auto-detects Jeju L2/L3
#   * Localnet: chain ID 420691
#   * Testnet: chain ID 901
#   * Mainnet: chain ID 902
# - If standalone: Auto-detects Anvil (chain ID 31337)
# - No manual RPC configuration needed!
#
# Optional overrides (leave blank for auto-detection):
ANVIL_RPC_URL=                    # Override RPC URL (default: auto-detect)
CHAIN_ID=                         # Override chain ID (default: auto-detect)
PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

# MUD Indexer
INDEXER_URL=http://localhost:4350/graphql

# Hybrid Mode Configuration
HYBRID_MODE=true                  # Enable hybrid on-chain/off-chain architecture
ENABLE_BLOCKCHAIN_WRITES=true     # Write critical state to blockchain
BATCH_INVENTORY_CHANGES=true      # Batch inventory ops for gas savings
BATCH_INTERVAL_MS=10000          # Batch every 10 seconds

# ============ Database (Performance State) ============
# PostgreSQL for session data and off-chain performance state
DATABASE_URL=postgresql://localhost:5432/hyperscape
USE_LOCAL_POSTGRES=true

# ============ Server Configuration ============
PORT=5555
WS_PORT=5555
CDN_PORT=8088
PUBLIC_CDN_URL=http://localhost:8088

# ============ Authentication ============
# Optional: Privy for wallet/social login
PRIVY_APP_ID=
PRIVY_APP_SECRET=
JWT_SECRET=your-secret-key-change-in-production

# ============ Features ============
ENABLE_CHARACTER_SYSTEM=false     # Multi-character support
ENABLE_VOICE=false                # LiveKit voice chat
DEBUG_RPG=0                       # RPG debug logging

# LiveKit (if ENABLE_VOICE=true)
LIVEKIT_API_KEY=
LIVEKIT_API_SECRET=
LIVEKIT_URL=

# ============ Performance ============
SAVE_INTERVAL=60000              # Save player data every 60s
MAX_PLAYERS=100
MOVEMENT_UPDATE_RATE=30          # Position updates per second
POSITION_VALIDATION_INTERVAL=100 # Position check interval (ms)
